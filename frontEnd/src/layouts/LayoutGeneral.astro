---
import Sidebar from "../components/sidebar/Sidebar.astro";
import Layout from "./Layout.astro";
import Header from "../components/header/header.astro";


interface props {
  title: string;
  titleHeader: string;
}
const { title, titleHeader } = Astro.props;

// Obtener el objeto del localStorage y parsearlo
let sidebardata = {};
if (typeof window !== "undefined") {
  const storedData = localStorage.getItem("sidebardata");
  if (storedData) {
    sidebardata = JSON.parse(storedData);
  }
}
---

<Layout title={title}>
  <Sidebar
    name={sidebardata.name}
    profession={sidebardata.profession}
    img={sidebardata.img}
    rol={sidebardata.rol}
  />

  <div class="w-full">
    <Header titulo={titleHeader} />
    <div class="px-5 sm:px-10 py-5 min-w-screen">
      <slot />
    </div>
  </div>
</Layout>
